diff a/htdocs/custom/requestmanager/class/html.formrequestmanager.class.php b/htdocs/custom/requestmanager/class/html.formrequestmanager.class.php	(rejected hunks)
@@ -1517,30 +1518,25 @@ class FormRequestManager
         $out = <<<SCRIPT
             <script type="text/javascript" language="javascript">
                 jQuery(document).ready(function () {
-                    // Save form in session when click link
-                    $('a').click(function(e) {
-                        var result = true;
-                        if (!$(this).hasClass('rm_reset_data_in_session')) {
-                            result = rm_save_form_in_session('$htmlname', $key, $ajax_url);
-                        }
-
-                        if (!result) {
-                            e.preventDefault();
-                        }
-                    });
-
-                    // Save form in session when a form is send other than the message form
-                    $('form[name!="$htmlname"]').submit(function(e) {
-                        var result = rm_save_form_in_session('$htmlname', $key, $ajax_url);
-                        if (!result) {
-                            e.preventDefault();
-                        }
-                    });
+                    var rm_message_form = $('form#$htmlname');
+                    if (rm_message_form.length == 0) rm_message_form = $('form[name="$htmlname"]');
+                  
+                    // Save form in session when quit this page
+//                    rm_message_form.find(':input').on('change', function(e) {
+//                        var result = true;
+//                        if (!$(this).hasClass('rm_reset_data_in_session')) {
+//                            result = rm_save_form_in_session('$htmlname', $key, $ajax_url);
+//                        }
+//
+//                        if (!result) {
+//                            e.preventDefault();
+//                        }
+//                    });
 
                     // Save form in session
                     function rm_save_form_in_session(form_name, key, ajax_url) {
                         var result = true;
-                        var form_element = $('form#'+form_name);
+                        var form_element = $('form#' + form_name);
                         if (form_element.length == 0) form_element = $('form[name="'+form_name+'"]');
                         
                         if (form_element.length == 0) {
