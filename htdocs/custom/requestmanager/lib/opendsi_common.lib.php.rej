diff a/htdocs/custom/requestmanager/lib/opendsi_common.lib.php b/htdocs/custom/requestmanager/lib/opendsi_common.lib.php	(rejected hunks)
@@ -103,3 +103,47 @@ function opendsi_common_dolMd2Html($moduleName, $content, $parser='parsedown',$r
 
     return $content;
 }
+
+/**
+ *	Launch a sql file.
+ *
+ * @param   string          $sqlfile        Full path to sql file
+ * @param   int             $entity         Entity targeted for multicompany module
+ * @return  int                             <0 if KO, >0 if OK
+ */
+function opendsi_execute_sql_file($sqlfile, $entity=null)
+{
+    global $conf, $db;
+
+    $sql = '';
+
+    $fp = fopen($sqlfile, "r");
+    if ($fp) {
+        while (!feof($fp)) {
+            $buf = fgets($fp, 4096);
+
+            // Add line buf to buffer if not a comment
+            if (!preg_match('/^--/', $buf) && trim($buf) != "") {
+                $buf = preg_replace('/--.*$/', '', $buf); //remove comment from a line that not start with -- before add it to the buffer
+                $sql .= trim($buf) . " ";
+            }
+        }
+
+        fclose($fp);
+    } else {
+        dol_syslog("opendsi_common.lib.php::opendsi_execute_sql_file failed to open file " . $sqlfile, LOG_ERR);
+    }
+
+    // Replace the prefix tables
+    if (MAIN_DB_PREFIX != 'llx_') {
+        $sql = preg_replace('/llx_/i', MAIN_DB_PREFIX, $sql);
+    }
+    // Replace the entity
+    $sql = preg_replace('/__ENTITY__/i', (!empty($entity) ? $entity : $conf->entity), $sql);
+
+    $resql = $db->query($sql);
+    if ($resql)
+        return 1;
+    else
+        return -1;
+}
