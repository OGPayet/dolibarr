diff a/htdocs/custom/companyrelationships/class/companyrelationships.class.php b/htdocs/custom/companyrelationships/class/companyrelationships.class.php	(rejected hunks)
@@ -228,7 +228,7 @@ class CompanyRelationships
             return -1;
 
         // Get count relationships
-        $sql = "SELECT COUNT(fk_soc != " . $socid . ") as nb_benefactor, COUNT(fk_soc_benefactor != " . $socid . ") as nb_principal FROM " . MAIN_DB_PREFIX . "companyrelationships WHERE fk_soc=" . $socid . " OR fk_soc_benefactor=" . $socid;
+        $sql = "SELECT SUM(IF(fk_soc != " . $socid . ", 1, 0)) as nb_benefactor, SUM(IF(fk_soc_benefactor != " . $socid . ", 1, 0)) as nb_principal FROM " . MAIN_DB_PREFIX . "companyrelationships WHERE fk_soc=" . $socid . " OR fk_soc_benefactor=" . $socid;
 
         $resql = $this->db->query($sql);
         if ($resql) {
