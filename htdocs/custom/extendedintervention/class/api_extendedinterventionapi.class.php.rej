diff a/htdocs/custom/extendedintervention/class/api_extendedinterventionapi.class.php b/htdocs/custom/extendedintervention/class/api_extendedinterventionapi.class.php	(rejected hunks)
@@ -1220,28 +1208,28 @@ class ExtendedInterventionApi extends DolibarrApi {
                     if ($current_question_bloc->id > 0) {
                         // Update
                         $result = $current_question_bloc->update(DolibarrApiAccess::$user);
-                        if ($result < 0) {
-                            self::$db->rollback();
-                            throw new RestException(500, "Error while saving the question bloc", ['id_intervention' => $id_intervention, 'id_equipment' => $current_equipment_id, 'id_c_question_bloc' => $current_question_bloc->fk_c_question_bloc, 'details' => $this->_getErrors($current_question_bloc)]);
-                        }
                     } else {
                         // Create
                         $result = $current_question_bloc->create(DolibarrApiAccess::$user);
-                        if ($result < 0) {
-                            self::$db->rollback();
-                            throw new RestException(500, "Error while saving the question bloc", ['id_intervention' => $id_intervention, 'id_equipment' => $current_equipment_id, 'id_c_question_bloc' => $current_question_bloc->fk_c_question_bloc, 'details' => $this->_getErrors($current_question_bloc)]);
-                        }
                     }
 
-
+                    if ($result < 0) {
+                        self::$db->rollback();
+                        throw new RestException(500, "Error while saving the question bloc", ['id_intervention' => $id_intervention, 'id_equipment' => $current_equipment_id, 'id_c_question_bloc' => $current_c_question_bloc_id, 'details' => $this->_getErrors($current_question_bloc)]);
+                    }
 
                     // Save question
                     //-------------------------
-                    foreach ($question_bloc['lines'] as $question) {
-                        //$current_question_id = isset($question['id']) ? $question['id'] : $id_question;
+                    foreach ($question_bloc['lines'] as $id_c_question => $question) {
+                        $current_c_question_id = isset($question['fk_c_question']) ? $question['fk_c_question'] : $id_c_question;
                         // Get handler of the question (if exist in the current survey) or create it
                         $current_question = isset($current_question_bloc->lines[$current_c_question_id]) ? $current_question_bloc->lines[$current_c_question_id] : new EIQuestionBlocLine(self::$db);
 
+                        // Test if is read only
+//                        if ($current_question->read_only) {
+//                            self::$db->rollback();
+//                            throw new RestException(405, "Read only", ['id_intervention' => $id_intervention, 'id_equipment' => $current_equipment_id, 'id_c_question_bloc' => $current_c_question_bloc_id, 'id_c_question' => $current_c_question_id]);
+//                        }
 
                         // Set Values
                         $current_question->fk_question_bloc = $current_question_bloc->id;
